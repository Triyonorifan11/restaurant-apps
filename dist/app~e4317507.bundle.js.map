{"version":3,"file":"app~e4317507.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/routes/routes.js","webpack://restaurant-apps/./src/scripts/routes/url-parser.js","webpack://restaurant-apps/./src/scripts/utils/drawerApp.js","webpack://restaurant-apps/./src/scripts/utils/like-button-presenter.js","webpack://restaurant-apps/./src/scripts/utils/loader-element.js","webpack://restaurant-apps/./src/scripts/utils/post-reviewer.js","webpack://restaurant-apps/./src/scripts/utils/sw-register.js"],"sourcesContent":["import mainMenu from '../views/pages/mainMenu';\r\nimport favoriteMenu from '../views/pages/favoriteMenu';\r\nimport detailMenu from '../views/pages/detailMenu';\r\nimport addreviewFromReviewer from '../views/pages/addReviewer';\r\n\r\nconst routes = {\r\n  '/': mainMenu,\r\n  '/favorite': favoriteMenu,\r\n  '/mainMenu': mainMenu,\r\n  '/detail/:id': detailMenu,\r\n  '/addreview/:id': addreviewFromReviewer,\r\n};\r\n\r\nexport default routes;\r\n","const UrlParser = {\r\n  parseActiveUrlWithCombiner() {\r\n    const url = window.location.hash.slice(1).toLowerCase();\r\n    const splitedUrl = this._urlSplitter(url);\r\n    return this._urlCombiner(splitedUrl);\r\n  },\r\n\r\n  parseActiveUrlWithoutCombiner() {\r\n    const url = window.location.hash.slice(1).toLowerCase();\r\n    return this._urlSplitter(url);\r\n  },\r\n\r\n  _urlSplitter(url) {\r\n    const urlsSplits = url.split('/');\r\n    return {\r\n      resource: urlsSplits[1] || null,\r\n      id: urlsSplits[2] || null,\r\n      verb: urlsSplits[3] || null,\r\n    };\r\n  },\r\n\r\n  _urlCombiner(splitedUrl) {\r\n    return (splitedUrl.resource ? `/${splitedUrl.resource}` : '/')\r\n      + (splitedUrl.id ? '/:id' : '')\r\n      + (splitedUrl.verb ? `/${splitedUrl.verb}` : '');\r\n  },\r\n};\r\n\r\nexport default UrlParser;\r\n","const drawerApp = {\r\n  init({ button, drawer, content }) {\r\n    button.addEventListener('click', (event) => {\r\n      this._toggleDrawerApp(event, drawer);\r\n    });\r\n\r\n    content.addEventListener('click', (event) => {\r\n      this._closeDrawerApp(event, drawer);\r\n    });\r\n  },\r\n\r\n  _toggleDrawerApp(event, drawer) {\r\n    event.stopPropagation();\r\n    drawer.classList.toggle('open-navbar');\r\n  },\r\n\r\n  _closeDrawerApp(event, drawer) {\r\n    event.stopPropagation();\r\n    drawer.classList.remove('open-navbar');\r\n  },\r\n};\r\n\r\nexport default drawerApp;\r\n","import { createLikeRestoButtonTemplate, createUnlikeRestoButtonTemplate } from '../views/templates/template-menu';\r\n\r\nconst LikeButtonPresenter = {\r\n  async init({ likeButtonContainer, favoriteRestoes, resto }) {\r\n    this._likeButtonContainer = likeButtonContainer;\r\n    this._resto = resto;\r\n    this._favoriteResto = favoriteRestoes;\r\n\r\n    await this._renderButton();\r\n  },\r\n\r\n  async _renderButton() {\r\n    const { id } = this._resto;\r\n\r\n    if (await this._isRestoExist(id)) {\r\n      this._renderLiked();\r\n    } else {\r\n      this._renderLike();\r\n    }\r\n  },\r\n\r\n  async _isRestoExist(id) {\r\n    const resto = await this._favoriteResto.getRestoDB_Id(id);\r\n    return !!resto;\r\n  },\r\n\r\n  _renderLike() {\r\n    this._likeButtonContainer.innerHTML = createLikeRestoButtonTemplate();\r\n    const Buttonlike = document.querySelector('#likeButton');\r\n    Buttonlike.addEventListener('click', async () => {\r\n      await this._favoriteResto.putRestoDB(this._resto);\r\n      this._renderButton();\r\n    });\r\n  },\r\n\r\n  _renderLiked() {\r\n    this._likeButtonContainer.innerHTML = createUnlikeRestoButtonTemplate();\r\n\r\n    const Buttonlike = document.querySelector('#likeButton');\r\n    Buttonlike.addEventListener('click', async () => {\r\n      await this._favoriteResto.deleteRestoById(this._resto.id);\r\n      this._renderButton();\r\n    });\r\n  },\r\n};\r\n\r\nexport default LikeButtonPresenter;\r\n","class LoaderElement extends HTMLElement {\r\n  connectedCallback() {\r\n    this.render();\r\n  }\r\n\r\n  render() {\r\n    this.innerHTML = `\r\n    <style>\r\n    #loading {\r\n        width: 3rem;\r\n        height: 3rem;\r\n        border: 5px solid #f3f3f3;\r\n        border-top: 6px solid #0e82c5;\r\n        border-radius: 100%;\r\n        margin: auto;\r\n        visibility: hidden;\r\n        animation: spin 1s infinite linear;\r\n        margin-top: 3rem;\r\n      }\r\n      #loading.display {\r\n        visibility: visible;\r\n      }\r\n      @keyframes spin {\r\n        from {\r\n            transform: rotate(0deg);\r\n        }\r\n        to {\r\n            transform: rotate(360deg);\r\n        }\r\n      }\r\n    </style>\r\n    <div id=\"loading\"></div>\r\n    `;\r\n  }\r\n}\r\n\r\ncustomElements.define('loader-element', LoaderElement);\r\n","/* eslint-disable no-alert */\r\nimport getReviewer from '../data/getReviewer';\r\nimport RestoResouce from '../data/resto-api';\r\nimport { formInputReviewer } from '../views/templates/template-menu';\r\n\r\nconst postReviewer = {\r\n  async init({ formSubmit, value }) {\r\n    this._formSubmit = formSubmit;\r\n    this._value = value;\r\n    await this._renderForm();\r\n  },\r\n\r\n  async _renderForm() {\r\n    this._formSubmit.innerHTML = formInputReviewer();\r\n    const { id } = this._value;\r\n    const buttonReviewSubmit = document.querySelector('#buttonSave');\r\n    const nameInput = document.querySelector('#nama-reviewer');\r\n    const reviewInput = document.querySelector('#review-text');\r\n    buttonReviewSubmit.addEventListener('click', async () => {\r\n      const inputValue = {\r\n        id,\r\n        name: nameInput.value,\r\n        review: reviewInput.value,\r\n      };\r\n      await this._insertReview(inputValue);\r\n    });\r\n  },\r\n\r\n  async updateReviewerInput(id) {\r\n    const updateReviewer = await getReviewer(id);\r\n    return updateReviewer;\r\n  },\r\n\r\n  async _insertReview(value) {\r\n    try {\r\n      const option = {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(value),\r\n      };\r\n      const { id } = this._value;\r\n      const responseMessage = await RestoResouce.postReviewer(option);\r\n      alert(`Data ${responseMessage} ditambahkan`);\r\n      if (responseMessage === 'success') {\r\n        this.updateReviewerInput(id);\r\n      }\r\n      window.location.href = `#/detail/${id}`;\r\n      window.location.reload(true);\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  },\r\n\r\n};\r\n\r\nexport default postReviewer;\r\n","import * as WorkboxWindow from 'workbox-window';\r\n\r\nconst swRegister = async () => {\r\n  if (!('serviceWorker' in navigator)) {\r\n    console.log('Service Worker not supported in the browser');\r\n    return;\r\n  }\r\n\r\n  const wb = new WorkboxWindow.Workbox('./sw.bundle.js');\r\n\r\n  try {\r\n    await wb.register();\r\n  } catch (error) {\r\n    console.log('Failed to register service worker', error);\r\n  }\r\n};\r\n\r\nexport default swRegister;\r\n"],"names":["mainMenu","favoriteMenu","detailMenu","addreviewFromReviewer","parseActiveUrlWithCombiner","url","window","location","hash","slice","toLowerCase","splitedUrl","this","_urlSplitter","_urlCombiner","parseActiveUrlWithoutCombiner","urlsSplits","split","resource","id","verb","init","button","drawer","content","addEventListener","event","_toggleDrawerApp","_closeDrawerApp","stopPropagation","classList","toggle","remove","likeButtonContainer","favoriteRestoes","resto","_likeButtonContainer","_resto","_favoriteResto","_renderButton","_isRestoExist","_renderLiked","_renderLike","getRestoDB_Id","innerHTML","createLikeRestoButtonTemplate","document","querySelector","putRestoDB","createUnlikeRestoButtonTemplate","deleteRestoById","LoaderElement","render","HTMLElement","customElements","define","i","formSubmit","value","_formSubmit","_value","_renderForm","formInputReviewer","buttonReviewSubmit","nameInput","reviewInput","inputValue","name","review","_insertReview","updateReviewerInput","getReviewer","updateReviewer","option","method","headers","body","JSON","stringify","RestoResouce","responseMessage","alert","href","reload","navigator","console","log","wb","WorkboxWindow","register"],"sourceRoot":""}